!R1
en
conf t
hostname R1
int range gi1/0, gi2/0
no shut
exit
int gi1/0.10
encapsulation dot1q 10
ip address 172.16.10.1 255.255.255.128
int gi1/0.11
encapsulation dot1q 11
ip address 172.16.11.1 255.255.255.0
int gi1/0.22
encapsulation dot1q 22
ip address 172.16.22.1 255.255.255.0
int gi1/0.33
encapsulation dot1q 33
ip address 172.16.33.1 255.255.255.0
int gi2/0
ip address 192.168.1.1 255.255.255.252
description to CE1
int loopback 0
ip address 172.16.0.1 255.255.255.255

router ospf 1
router-id 172.16.0.1
network 192.168.1.0 0.0.0.3 area 0
network 172.16.10.0 0.0.0.127 area 1
network 172.16.11.0 0.0.0.255 area 1
network 172.16.22.0 0.0.0.255 area 1
network 172.16.33.0 0.0.0.255 area 1

service dhcp
ip dhcp pool VLAN11
network 172.16.11.0 /24
default-router 172.16.11.1

ip dhcp pool VLAN22
network 172.16.22.0 /24
default-router 172.16.22.1

ip dhcp pool VLAN33
network 172.16.33.0 /24
default-router 172.16.33.1
