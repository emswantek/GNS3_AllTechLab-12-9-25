ğŸŒŸ **GNS3 All-Tech Lab

Simplified â€œFuture Meâ€ Project Pickup Checklist**

1. Know the Core Topology (Quick Memory Jog)

Three Sites + SP + Internet:

LAN1 â†’ R1, CE1, ASA1, SW1â€“SW4 (VLANs 1/10/11/22/33)

LAN2 â†’ R2, CE2, ASA2, Access SW, MSTP SW

Data Center â†’ VPC-SW1/SW2 + DC-SW1

MPLS Cloud â†’ CORE-1 + PE1â€“PE4

Internet Edge â†’ INET-ISP-RTR sitting between ASA1 and ASA2

Hosts:

PC3 (LAN1)

PC7 (LAN2)

Alpine Linux VM (DHCP/SSH testing)

2. Before Powering Anything On
âœ” Load the correct GNS3 project
âœ” Ensure links match the diagram (gns3_all_tech_diagram-12-9-25.png)
âœ” Alpine Linux VM connected + NAT node available if needed
âœ” Make sure ASA1 and ASA2 have their correct outside IP mappings
3. After Power-On â€” What to Check First
âœ” Layer 2 sanity (LAN1 + LAN2)

LAN1 VLANs: 1 / 10 / 11 / 22 / 33

LAN1-SW2 exists (donâ€™t forget this again)

LAN2 MSTP converges (show spanning-tree mst)

VPC domain is up (show vpc)

âœ” Check routing on R1, R2, CE1, CE2

EIGRP neighbors up

VRF routes appear for CE1 and CE2

âœ” MPLS health

LDP neighbors

vpnv4 neighbors

CE routes visible in correct VRF

4. ASA / VPN Quick Checks
âœ” Are SAs up?
show crypto isa sa
show crypto ipsec sa

âœ” Do NAT exemptions exist for LAN1 â†” LAN2?
show nat detail

âœ” Packet-tracer works?
packet-tracer input inside ...

5. Test End-to-End
From LAN1 PC3 â†’ LAN2 PC7:

Over MPLS first

Then test VPN overlay path if MPLS links are shut down

Check return path symmetry

Most old issues were from ASA routing after decryption.

6. Quirks You Will Forget
âš  DC VPC switches cannot do DHCP relay

Must place DHCP server L2-adjacent

âš  MSTP â†” VPC ARP weirdness

If ARP breaks, try bouncing the trunk or clearing ARP

âš  ASA SSH requires specific host key negotiation

Use: ssh -oHostKeyAlgorithms=ssh-rsa â€¦

âš  Crypto ACLs must be mirrored exactly

If SAs come up but traffic fails â†’ check this first

âš  NAT exemption must be more specific than dynamic PAT

Otherwise tunneled traffic gets NATâ€™d and dies

âš  LAN1-SW2 matters

It participates in VLAN propagation

Easy to overlook when debugging

7. If Something Is Broken â€” Start Here
âœ” Do PCs reach their default gateways?

If no â†’ L2 issue

âœ” Do CE routers advertise routes?

If no â†’ CE/PE routing issue

âœ” Do PE routers have the VRF routes?

If no â†’ RT/RD/redistribution issue

âœ” Do ASAs decrypt but not route?

If yes â†’ missing inside route on ASA

âœ” Do tunnels come up only one way?

If yes â†’ need SLA to trigger initial traffic

8. When Youâ€™re Back and Ready to Build More
Possible next expansions:

Convert crypto maps â†’ VTI

Add GRE over IPsec

Add automation (Ansible/Python)

Add simulated cloud gateways (Azure VPN, etc.)

9. One-Sentence Memory Anchor

Two LANs, two ASAs, MPLS in the middle, IPsec as backup, 
VLAN10 is the only SVI in LAN1, and LAN1-SW2 is easy to forget.